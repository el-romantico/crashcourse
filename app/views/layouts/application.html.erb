<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Crashcourse</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= yield(:head) %>
  <%= csrf_meta_tags %>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  <style>
    html, body {
        height: 100%;
    }
    .wrapper {
        min-height: 100%;
        height: auto !important;
        height: 100%;
        margin: 0 auto -63px;
    }
    .push {
        height: 63px;
    }
    /* not required for sticky footer; just pushes hero down a bit */
    .wrapper > .container {
    }
    .thumbnail {
      border: 0;
    }
  </style>


<script type="text/javascript">
  $(document).bind('page:change', function() {
    Holder.run()
  });
</script>
</head>
<body>
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-header">
          <a class="navbar-brand" href="/">Courses</a>
        </div>
        <div class="navbar-header">
          <%= link_to 'Requests', requests_path, :class => 'navbar-brand' %>
        </div>
        <div class="navbar-header">
          <%= link_to 'Patterns', patterns_view_path, :class => 'navbar-brand' %>
        </div>
        <div class="navbar-header">
          <button id="toggle_notifications" type="button" class="btn btn-default btn-lg">
        </div>
        <ul class="nav navbar-nav navbar-right">
          <% if user_signed_in? %>
          <li>
            <%= link_to 'My Calendar', calendar_path %>
          </li>
          <li>
            <%= link_to 'New Course', new_course_path %>
          </li>
          <li>
            <%= link_to 'New Request', new_request_path %>
          </li>
          <li>
            <%= link_to "Howdy, #{current_user.first_name}", current_user %>
          </li>
          <li>
            <%= link_to 'Sign Out', destroy_user_session_path, method: :delete %>
          </li>
          <% else %>
            <li>
              <%= link_to 'Sign In', new_user_session_path %>
            </li>
            <li>
              <%= link_to 'Sign Up', new_user_registration_path %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>

    <div class="wrapper">
      <div class="container">
        <%= yield %>
      </div> <!-- /container -->
      <div class="push"><!--//--></div>
    </div>
    <hr>

    <span id="notification_panel" style="visibility:hidden;position:fixed;top:50px;left:220px;height:300px;overflow:auto;overflow-x: hidden;">
      <% if @notifications %>
        <% 10.times do %>
          <% @notifications.each do |notification| %>
            <% if notification.seen %>
              <div style="width:300px;background-color:#F0EB6E;border-bottom:1px solid black;margin:10px;">
            <% else %>
              <div style="width:300px;background-color:white;border-bottom:1px solid black;margin:0 10px;">
            <% end %>
            <%= link_to notification.lecturer.name, notification.lecturer %>
            created a course named
            <%= link_to notification.course.name, notification.course %>,
            we thought you might beinterested based on your interests:
            <%= link_to notification.request.tags.map(&:label).join(','), notification.request %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </span>

    <footer>
      <div class="container">
        <p>&copy; Some rights reserved 2014</p>
      </div>
    </footer>
</body>
</html>
